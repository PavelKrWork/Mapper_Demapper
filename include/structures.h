#pragma once
#include <cmath>
#include <vector>

using BitArray = std::vector<bool>;

struct IQ {
	double Re;
	double Im;
};

// Таблицы созвездий для QPSK, QAM16 и QAM64
const std::vector<IQ> QPSK_TABLE = {
    {1 / sqrt(2), 1 / sqrt(2)},   // 00
    {-1 / sqrt(2), 1 / sqrt(2)},  // 01
    {-1 / sqrt(2), -1 / sqrt(2)}, // 10
    {1 / sqrt(2), -1 / sqrt(2)}   // 11
};

const std::vector<IQ> QAM16_TABLE = {
    {1, 1},   // 0000
    {1, 3},   // 0001
    {3, 1},   // 0010
    {3, 3},   // 0011
    {1, -1},  // 0100
    {1, -3},  // 0101
    {3, -1},  // 0110
    {3, -3},  // 0111
    {-1, 1},  // 1000
    {-1, 3},  // 1001
    {-3, 1},  // 1010
    {-3, 3},  // 1011
    {-1, -1}, // 1100
    {-1, -3}, // 1101
    {-3, -1}, // 1110
    {-3, -3}  // 1111
};

const std::vector<IQ> QAM64_TABLE = {
    {1, 1},   {1, 3},   {1, 5},   {1, 7},   {3, 1},   {3, 3},   {3, 5},   {3, 7},
    {5, 1},   {5, 3},   {5, 5},   {5, 7},   {7, 1},   {7, 3},   {7, 5},   {7, 7},
    {1, -1},  {1, -3},  {1, -5},  {1, -7},  {3, -1},  {3, -3},  {3, -5},  {3, -7},
    {5, -1},  {5, -3},  {5, -5},  {5, -7},  {7, -1},  {7, -3},  {7, -5},  {7, -7},
    {-1, 1},  {-1, 3},  {-1, 5},  {-1, 7},  {-3, 1},  {-3, 3},  {-3, 5},  {-3, 7},
    {-5, 1},  {-5, 3},  {-5, 5},  {-5, 7},  {-7, 1},  {-7, 3},  {-7, 5},  {-7, 7},
    {-1, -1}, {-1, -3}, {-1, -5}, {-1, -7}, {-3, -1}, {-3, -3}, {-3, -5}, {-3, -7},
    {-5, -1}, {-5, -3}, {-5, -5}, {-5, -7}, {-7, -1}, {-7, -3}, {-7, -5}, {-7, -7}
};